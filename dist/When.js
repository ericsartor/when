!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.When=t.commands=void 0;var i=n(4),r=n(1),s=n(5),a=n(8),o=n(9);function u(e){if(null===this.n)throw Error("When: n value was null");if(null===this.identifier)throw Error("When: identifier value was null");switch(this.nType){case"held":this.events.push({type:"pressed",key:i.keys[a.getKeyFromIdentifier(this.identifier)],timestamp:0,modifiers:o.getModifiersFromIdentifier(this.identifier)}),this.events.push({type:"held",key:i.keys[a.getKeyFromIdentifier(this.identifier)],timestamp:0,duration:e*this.n,modifiers:o.getModifiersFromIdentifier(this.identifier)});break;case"constraint":this.timeConstraint=e*this.n}}function c(e){return{identifier:"string"!=typeof e?null:e.toLowerCase(),element:"string"==typeof e?null:e,events:[],timeConstraint:null,focusRequired:!1,isCommand:!1,preventDefault:!1,n:null,nType:null,once:!1,shortcut:null,Then:function(e){return this.identifier=e.toLowerCase(),this},IsFocused:function(){return this.focusRequired=!0,this},IsExecuted:function(){return this.isCommand=!0,this},IsPressed:function(){if(null===this.identifier)throw"When: IsPressed() cannot be called before a string key identifier has been passed to When()";return i.validateKeyIdentifier(a.getKeyFromIdentifier(this.identifier)),this.events.push({type:"pressed",key:i.keys[a.getKeyFromIdentifier(this.identifier)],timestamp:0,modifiers:o.getModifiersFromIdentifier(this.identifier)}),this},IsReleased:function(){if(null===this.identifier)throw"When: IsReleased() cannot be called before a string key identifier has been passed to When()";return i.validateKeyIdentifier(a.getKeyFromIdentifier(this.identifier)),this.events.push({type:"released",key:i.keys[a.getKeyFromIdentifier(this.identifier)],timestamp:0,modifiers:o.getModifiersFromIdentifier(this.identifier)}),this},IsHeldFor:function(e){if(null===this.identifier)throw"When: IsHeldFor() cannot be called before a string key identifier has been passed to When()";return i.validateKeyIdentifier(a.getKeyFromIdentifier(this.identifier)),this.n=e,this.nType="held",this},Within:function(e){if(isNaN(e)||0===e)throw"When: Within() expects to receive a number greater than 0";return this.n=Number(e),this.nType="constraint",this},Milliseconds:function(){if(!this.n)throw"When: Milliseconds() cannot be called before a number greater than 0 has been passed to IsHeldFor() or Within()";return u.call(this,1),this},Seconds:function(){if(!this.n)throw"When: Seconds() cannot be called before a number greater than 0 has been passed to IsHeldFor() or Within()";return u.call(this,1e3),this},PreventDefault:function(){return this.preventDefault=!0,this},Execute:function(e){return new r.Shortcut({timeline:this.events,command:e.toLowerCase(),timeConstraint:this.timeConstraint,focusElement:this.focusRequired?this.element:null,preventDefault:this.preventDefault})},Run:function(e){if(null===this.identifier)throw"When: Run() cannot be called before a string key identifier has been passed to When()";if("function"!=typeof e)throw"When: Run() must be called with a function as its first and only argument";if(!this.isCommand)throw"When: Run() must be called after a call to IsExecuted()";t.commands[this.identifier.toLowerCase()]=e},FocusChanges:function(e){s.focusHandlers.push(e)}}}t.commands={},t.When=c,c.Documentation=function(){var e=[];return r.Shortcut.map.forEach((function(t){var n=t.timeline.map((function(e){var t=e.modifiers,n=(t.alt?"alt+":"")+(t.ctrl?"ctrl+":"")+(t.meta?"meta+":"")+(t.shift?"shift+":"");switch(e.type){case"pressed":return", &darr;"+n+i.keyToString(e.key);case"released":return", &uarr;"+n+i.keyToString(e.key);case"held":return" (hold "+e.duration/1e3+"s)"}})).join("").slice(2);t.timeConstraint&&(t.timeConstraint<1e3?n+=" (within "+t.timeConstraint+"ms)":n+=" (within "+(t.timeConstraint/1e3).toFixed(2)+"s)");e.push({combination:n,command:t.command})})),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shortcut=void 0;var i=n(2),r=n(3),s=n(0),a=function(){function e(t){var n=t.timeline,s=t.command,a=t.preventDefault,o=t.once,u=t.timeConstraint,c=t.focusElement;this.lastTriggeredEventId=null,this.active=!0,this.preventDefault=!1,this.once=!1,this.timeConstraint=null,this.focusElement=null,this.id=e.idCounter++,e.map.set(this.id,this),this.timeline=n,this.command=s,this.preventDefault=a||this.preventDefault,this.once=o||this.once,this.timeConstraint=u||this.timeConstraint,this.focusElement=c||this.focusElement,this.preventDefault&&this.timeline.forEach((function(e){var t=r.generateEventKeyString(e);if(i.preventDefaultShortcuts.has(t)){var n=i.preventDefaultShortcuts.get(t);i.preventDefaultShortcuts.set(t,n+1)}else i.preventDefaultShortcuts.set(t,1)}))}return e.prototype.delete=function(){e.map.delete(this.id),this.preventDefault&&this.timeline.forEach((function(e){var t=r.generateEventKeyString(e);if(i.preventDefaultShortcuts.has(t)){var n=i.preventDefaultShortcuts.get(t);i.preventDefaultShortcuts.set(t,n-1)}}))},e.prototype.pause=function(){this.active=!1},e.prototype.unpause=function(){this.active=!0},e.prototype.toggle=function(){this.active=!this.active},e.prototype.trigger=function(){if("function"!=typeof s.commands[this.command])throw'When: command "'+this.command+"\" hasn't been been registered as a function with When([command_name]).Run([function])";s.commands[this.command](void 0)},e.prototype.Once=function(){return this.once=!0,this},e.idCounter=0,e.map=new Map,e}();t.Shortcut=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPreventDefault=t.preventDefaultShortcuts=void 0;var i=n(3);t.preventDefaultShortcuts=new Map,t.checkPreventDefault=function(e,n){var r=i.generateEventKeyString(e);t.preventDefaultShortcuts.has(r)&&(t.preventDefaultShortcuts.get(r)>0&&n.preventDefault())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateEventKeyString=void 0,t.generateEventKeyString=function(e){var t=e.modifiers;return(t.alt?"alt":"")+(t.ctrl?"ctrl":"")+(t.meta?"meta":"")+(t.shift?"shift":"")+e.key}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeyIdentifier=t.keySuggestions=t.keyToString=t.modifierKeys=t.keyStatus=t.keys=void 0;!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/");var i="undefined"!=typeof InstallTrigger,r=(/constructor/i.test(window.HTMLElement)||(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString(),!!document.documentMode),s=!r&&!!window.StyleMedia,a=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);a&&navigator.userAgent.indexOf("Edg");t.keys={ctrl:17,alt:18,shift:16,left_meta:91,meta:91,right_meta:92,escape:27,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,scroll_lock:145,pause_break:19,context_menu:93,"`":192,grave_accent:192,tilde:192,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,num0:48,hyphen:189,"=":187,equals:187,backspace:8,tab:9,caps_lock:20,space:32,"[":219,left_square_bracket:219,"]":221,right_square_bracket:221,"\\":220,backslash:220,backward_slash:220,";":186,semicolon:186,"'":222,apostophe:222,",":188,comma:188,period:190,forward_slash:191,enter:13,insert:45,home:36,page_up:33,delete:46,end:35,page_down:34,arrow_up:38,arrow_right:39,arrow_down:40,arrow_left:37,num_lock:144,numpad_divide:111,numpad_multiply:106,numpad_subtract:109,clear:12,numpad_add:107,numpad_decimal:110,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90},i?(t.keys.hyphen=173,t.keys["="]=61,t.keys.equals=61,t.keys[";"]=59,t.keys.semicolon=59,t.keys.right_meta=91):s&&(t.keys.clear=101),t.keyStatus={},Object.keys(t.keys).forEach((function(e){t.keyStatus[t.keys[e]]={pressed:!1,timestamp:null}})),t.modifierKeys=[t.keys.alt,t.keys.ctrl,t.keys.left_meta,t.keys.right_meta,t.keys.shift],t.keyToString=function(e){var n=[];for(var i in t.keys)t.keys[i]===e&&n.push(i);return n.reduce((function(e,t){return Math.min(e.length,t.length)?e:t}),n[0])||null},t.keySuggestions=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return'Numbers should be specified as either "num'+e+'" or "numpad'+e+'"';case".":return'Instead of ".", you must use either "period" or "numpad_decimal", as these are interpreted as two different keys';case"-":return'Instead of "-", you must either use "hyphen" or "numpad_subtract", as these are interpreted as two different keys';case"/":return'Instead of "/", you must either use "forward_slash" or "numpad_divide", as these are interpreted as two different keys';case"*":return'Instead of "*", you must use numpad_multiply, unless you meant to use "num8"';case"+":return'Instead of "+", you must use numpad_add, unless you meant to use "="';case"~":case"!":case"@":case"#":case"$":case"%":case"^":case"&":case"(":case")":case"_":case"{":case"}":case"|":case":":case'"':case"<":case">":case"?":return'The character "'+e+'" is not recognized, you probably meant to use the other character on that key';default:return'Unrecognized key identifier "'+e+'"'}},t.validateKeyIdentifier=function(e){if(void 0===t.keys[e]){var n=t.keySuggestions(e);if(n)throw Error("When: "+n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.focusedElement=t.focusHandlers=void 0,t.focusHandlers=[],t.focusedElement=null,window.addEventListener("click",(function(e){if(null!==e.target){var n=t.focusedElement,i=e.target;if(i.classList&&i.classList.contains("when-focus"))t.focusedElement=i;else{for(t.focusedElement=i.parentNode;t.focusedElement&&t.focusedElement.classList&&!t.focusedElement.classList.contains("when-focus");)t.focusedElement=t.focusedElement.parentNode;t.focusedElement&&t.focusedElement.classList||(t.focusedElement=null)}t.focusedElement!==n&&t.focusHandlers.forEach((function(e){return e(t.focusedElement,n)}))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);var i=n(0);window.When=i.When,console.log("Hello from When.js!")},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,r++)i[r]=s[a];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.emitEvent=t.addNewEvent=t.eventHistory=void 0;var s=n(1),a=n(0),o=n(2),u=n(4),c=n(5),f=n(10),d=0;t.eventHistory=[],t.addNewEvent=function(e){var n=d++;t.eventHistory.push(i(i({},e),{id:n}))};var l=null,h=null;t.emitEvent=function(e){void 0!==e&&t.addNewEvent(e),s.Shortcut.map.forEach((function(e){if(e.active&&(!e.focusElement||e.focusElement===c.focusedElement)){for(var n=!1,i=r(e.timeline),s=[],o=0;o<t.eventHistory.length&&s.length!==e.timeline.length;o++){var u=i[i.length-1],d=t.eventHistory[t.eventHistory.length-1-o];if(e.lastTriggeredEventId===d.id){n=!0;break}if(0===o){if(!f.checkEventMatch(u,d)){n=!0;break}s.unshift(d),i.pop()}else{var m=s[s.length-1].timestamp-d.timestamp;if(null!==e.timeConstraint&&e.timeConstraint>0&&m>e.timeConstraint){n=!0;break}var p=d.type===u.type;if(p&&f.checkEventMatch(u,d)){s.unshift(d),i.pop();continue}if(p){n=!0;break}}}if(!n&&s.length===e.timeline.length){if(null!==e.timeConstraint&&e.timeConstraint>0){var y=s.shift(),v=s.pop();if(void 0!==v&&void 0!==y&&v.timestamp-y.timestamp>e.timeConstraint&&(n=!0),n)return}var g=s[s.length-1],k=g.type,w="released"===k?h:l;if("function"!=typeof a.commands[e.command])throw'When: command "'+e.command+"\" hasn't been been registered as a function with When([command_name]).Run([function])";a.commands[e.command]({event:w,pressDuration:"held"===k?g.duration:void 0}),e.once&&e.delete(),e.lastTriggeredEventId=s[s.length-1].id}}}))},window.addEventListener("keydown",(function(e){var n={type:"pressed",key:e.which,timestamp:performance.now(),modifiers:{shift:e.shiftKey,alt:e.altKey,ctrl:e.ctrlKey,meta:e.metaKey}};o.checkPreventDefault(n,e),!0!==u.keyStatus[e.which].pressed&&(u.modifierKeys.includes(e.which)||(l=e,t.emitEvent(n)),u.keyStatus[e.which].pressed=!0,u.keyStatus[e.which].timestamp=performance.now())})),window.addEventListener("keyup",(function(e){if(!1!==u.keyStatus[e.which].pressed)if(u.modifierKeys.includes(e.which))u.keyStatus[e.which].pressed=!1,u.keyStatus[e.which].timestamp=null;else{var n={type:"released",key:e.which,timestamp:performance.now(),modifiers:{shift:e.shiftKey,alt:e.altKey,ctrl:e.ctrlKey,meta:e.metaKey}};h=e,t.emitEvent(n),u.keyStatus[e.which].pressed=!1,u.keyStatus[e.which].timestamp=null}})),setInterval((function(){Object.keys(u.keyStatus).forEach((function(e){if(e=Number(e),u.keyStatus[e].pressed&&null!==u.keyStatus[e].timestamp){var n=performance.now()-u.keyStatus[e].timestamp;if(!(n<500)){for(var i={shift:u.keyStatus[u.keys.shift].pressed,alt:u.keyStatus[u.keys.alt].pressed,ctrl:u.keyStatus[u.keys.ctrl].pressed,meta:u.keyStatus[u.keys.left_meta].pressed||u.keyStatus[u.keys.right_meta].pressed},r=null,s=t.eventHistory.length-1;s>=0;s--){var a=t.eventHistory[s];if(a.timestamp<u.keyStatus[e].timestamp)break;if(a.key===e)if("held"===a.type)if(a.modifiers.shift===i.shift&&a.modifiers.ctrl===i.ctrl&&a.modifiers.alt===i.alt&&a.modifiers.meta===i.meta){r=s;break}}null!==r?(t.eventHistory[r].duration=n,t.emitEvent()):t.emitEvent({type:"held",key:Number(e),duration:n,timestamp:performance.now(),modifiers:i})}}}))}),100)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyFromIdentifier=void 0,t.getKeyFromIdentifier=function(e){var t=e.split("+").filter((function(e){return!["shift","alt","ctrl","meta"].includes(e)}));if(t.length>1)throw Error("When: identifier for key contained more than one non-modifier key");return t[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModifiersFromIdentifier=void 0,t.getModifiersFromIdentifier=function(e){var t=e.split("+");return{shift:t.includes("shift"),alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkEventMatch=void 0,t.checkEventMatch=function(e,t){if(e.key!==t.key||e.type!==t.type)return!1;if(e.modifiers.shift!==t.modifiers.shift||e.modifiers.meta!==t.modifiers.meta||e.modifiers.alt!==t.modifiers.alt||e.modifiers.ctrl!==t.modifiers.ctrl)return!1;if("held"===e.type){if(void 0===t.duration||void 0===e.duration)throw Error('When: "held" event had undefined "duration" property');return!(t.duration<e.duration)}return!0}}]);